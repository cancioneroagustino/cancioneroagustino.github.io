<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Programa de Misa - QR</title>
  <style>
    body { font-family: sans-serif; margin: 2em; }
    .cancion { margin-bottom: 2em; }
    pre { background: #f6f6f6; padding: 1em; border-radius: 8px; }
  </style>
  <script>
    async function cargarPrograma() {
      const resp = await fetch('canciones.json');
      const rutas = await resp.json();
      let html = '';
      for (const ruta of rutas) {
        try {
          const letraResp = await fetch(ruta);
          if (letraResp.ok) {
            const letra = await letraResp.text();
            html += `<div class="cancion"><pre>${letra}</pre></div>`;
          } else {
            html += `<div class="cancion"><em>Letra no encontrada: ${ruta}</em></div>`;
          }
        } catch (e) {
          html += `<div class="cancion"><em>Error al cargar letra: ${ruta}</em></div>`;
        }
      }
      document.getElementById('contenido').innerHTML = html;
    }
    window.onload = cargarPrograma;
  </script>
</head>
<body>
  <h1>Programa de Misa</h1>
  <div id="contenido">Cargando programa...</div>
</body>
</html>